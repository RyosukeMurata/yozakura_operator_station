<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:include filename="$(find yozakura_display)/robot/define.xacro"/>
  <xacro:include filename="$(find yozakura_display)/robot/config.xacro"/>
  <xacro:macro name="yozakura_arm" params="parent_link">

  <!---ARM BASE-->
  <joint name="joint_arm_yaw" type="revolute">
      <axis xyz="0 0 1"/>
      <limit lower="-3.14" upper="3.14" effort="0.5293" velocity="6.159937255" />
      <origin rpy="0 0 0"
              xyz="0 0 0"/>
      <parent link="virtual_arm_base"/>
      <child link="arm_yaw"/>
  </joint>

  <link name="arm_yaw">
      <visual>
          <origin rpy="0 0 0" xyz="0 0 0.018"/>
          <geometry>
            <cylinder length="0.004" radius="0.1"/> 
          </geometry>
          <material name="gray">
            <color rgba="0.8 0.8 0.8 0.5"/>
          </material>
      </visual>
  </link>

  <!--URG-->
  <joint name="virtualjoint_urg" type="fixed">
        <origin rpy="0 0 0"
                xyz="0.060 0 0"/>
        <parent link="arm_yaw"/>
        <child link="urg_base"/>
  </joint>

  <link name="urg_base">
      <visual>
        <origin rpy="0 0 0" xyz="0 0 0.035"/>
        <geometry>
           <cylinder length="0.03" radius="0.02"/>
        </geometry> 
        <material name="black"/>
      </visual>
  </link>

  

  <joint name="joint_pitch_actuator" type="fixed">
      <origin rpy="0 0 0"
              xyz="0 0 0.02"/>
      <parent link="arm_yaw"/>
      <child link="pitch_actuator"/>
  </joint>

  <link name="pitch_actuator">
       <visual>
           <origin rpy="0 0 0" xyz="0 0 0.025"/>
           <geometry>
             <box size="0.04 0.1 0.05"/>
           </geometry>
           <material name="black">
              <color rgba="0 0 1"/>
           </material>
       </visual>
  </link>
  
  <joint name="joint_arm_pitch1" type="revolute">
       <axis xyz="0 1 0"/>
      <limit lower="-3.14" upper="3.14" effort="0.5293" velocity="6.159937255"/>
      <origin rpy="0 0 0"
              xyz="0 0 0.05"/>
      <parent link="pitch_actuator"/>
      <child link="arm_pitch1"/>
  </joint>
   
  <link name="arm_pitch1">
      <visual>
          <origin rpy="0 0 0"
                  xyz="0 0 0.15"/>
          <geometry>
            <box size="0.019 0.019 0.3"/>
          </geometry>
          <material name="gray"/>
      </visual>
  </link>
  
  <!---ARM BELLOWS-->
  <joint name="joint_arm_pitch2" type="revolute">
      <axis xyz="0 1 0"/>
      <limit lower="-3.14" upper="3.14" effort="0.5293" velocity="6.159937255" />
      <origin rpy="0 0 0" xyz="0 0 0.3"/>
      <parent link="arm_pitch1"/>
      <child link="arm_pitch2"/>
  </joint>

  <link name="arm_pitch2">
      <visual>
         <origin rpy="0 0 0"
                xyz="0 0 0.10"/>
         <geometry>
             <cylinder length="0.2" radius="0.01"/>
         </geometry>
         <material name="gray"/>
      </visual>
  </link>

  <joint name="joint_arm_camera" type="revolute">
      <axis xyz="1 0 0"/>
      <limit lower="-3.14" upper="3.14" effort="0.5293" velocity="6.159937255" />
      <origin rpy="0 0 0" xyz="0 0 0.2"/>
      <parent link="arm_pitch2"/>
      <child link="arm_camera"/>
  </joint>

  <link name="arm_camera">
     <visual>
        <origin rpy="0 0 0" xyz="0 0 0.10"/>
        <geometry>
            <box size="0.05 0.025 0.2"/>
        </geometry>
        <material name="black">
            <color rgba="0 0 1"/>
        </material>
     </visual>
  </link> 
  </xacro:macro>
</robot>
